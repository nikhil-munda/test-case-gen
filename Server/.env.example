# ============================================================
# Test Case Generator - Backend Environment Variables
# ============================================================
# Copy this file to .env and fill in your actual values
# NEVER commit your .env file to git!
# ============================================================

# ------------------------------------------------------------
# 1. SERVER CONFIGURATION (Required)
# ------------------------------------------------------------
PORT=4000
NODE_ENV=development

# Full URL where your backend is running
SERVER_ROOT_URI=http://localhost:4000

# Frontend URL (for CORS and OAuth redirects)
CLIENT_URL=http://localhost:3000


# ------------------------------------------------------------
# 2. DATABASE (Required - PostgreSQL)
# ------------------------------------------------------------
# Format: postgresql://USERNAME:PASSWORD@HOST:PORT/DATABASE?schema=public
# Example local: postgresql://postgres:password@localhost:5432/testcase_db?schema=public
# Example cloud: postgresql://user:pass@aws-rds-endpoint.com:5432/dbname
DATABASE_URL=postgresql://postgres:04072004@localhost:5433/testcase?schema=public


# ------------------------------------------------------------
# 3. JWT AUTHENTICATION (Required)
# ------------------------------------------------------------
# Generate a strong random secret (min 32 characters)
# Generate one: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET_KEY=your-super-secret-jwt-key-min-32-chars-recommended


# ------------------------------------------------------------
# 4. GOOGLE OAUTH (Required for Google sign-in)
# ------------------------------------------------------------
# Get credentials: https://console.cloud.google.com/apis/credentials
# Redirect URI: http://localhost:4000/api/auth/google/callback
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret


# ------------------------------------------------------------
# 5. GITHUB OAUTH (Required for GitHub sign-in)
# ------------------------------------------------------------
# Get credentials: https://github.com/settings/developers
# Redirect URI: http://localhost:4000/api/auth/github/callback
GITHUB_CLIENT_ID=your-github-oauth-app-client-id
GITHUB_CLIENT_SECRET=your-github-oauth-app-client-secret


# ------------------------------------------------------------
# 6. RAZORPAY PAYMENT GATEWAY (Required for subscriptions)
# ------------------------------------------------------------
# Get credentials: https://dashboard.razorpay.com/app/keys
# For testing, use test mode keys (rzp_test_...)
RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxxxx
RAZORPAY_KEY_SECRET=your_razorpay_key_secret

# Webhook secret for payment verification
# Get from: https://dashboard.razorpay.com/app/webhooks
# Webhook URL: http://localhost:4000/api/subscription/verifyPayment (use ngrok for local)
RAZORPAY_WEBHOOK_SECRET=your_razorpay_webhook_secret


# ------------------------------------------------------------
# 7. CLOUDINARY (Required for profile picture uploads)
# ------------------------------------------------------------
# Get credentials: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=123456789012345
CLOUDINARY_API_SECRET=your-cloudinary-api-secret


# ------------------------------------------------------------
# 8. GMAIL SMTP (Required for OTP emails)
# ------------------------------------------------------------
# Use Gmail App Password (NOT your regular Gmail password)
# Generate: https://myaccount.google.com/apppasswords
# Enable 2FA first on your Google account
SMTP_EMAIL=your-email@gmail.com
SMTP_PASSWORD=your-16-character-app-password


# ------------------------------------------------------------
# 9. GOOGLE GEMINI AI (Required for test case generation)
# ------------------------------------------------------------
# Get API key: https://aistudio.google.com/app/apikey
# Used for generating C++ stress test code
GEMINI_API_KEY=your-gemini-api-key


# ============================================================
# SETUP CHECKLIST:
# ============================================================
# ✓ PostgreSQL running locally or cloud connection string ready
# ✓ Docker installed (required for C++ code execution sandbox)
# ✓ Google OAuth app created with correct redirect URI
# ✓ GitHub OAuth app created with correct redirect URI
# ✓ Razorpay account in test mode with webhook configured
# ✓ Cloudinary account created
# ✓ Gmail App Password generated (2FA enabled)
# ✓ Gemini API key obtained
#
# After filling this file:
# 1. Copy to .env: cp .env.example .env
# 2. Run migrations: npx prisma migrate dev
# 3. Generate Prisma client: npx prisma generate
# 4. Start server: npm run dev
# ============================================================
